# Fatiando Development Calls 2022

ðŸ“± **Join the video call:**  https://meet.jit.si/fatiando-a-terra/dev-calls (Jitsi)

ðŸ“… **Shared calendar:** https://www.fatiando.org/calendar

> **IMPORTANT**: Everyone is required to follow our 
> [Code of Conduct](https://github.com/fatiando/community/blob/main/CODE_OF_CONDUCT.md)
> when participating in the Fatiando community. Please review it carefully.

Development calls are **open to everyone**! Here we discuss routine project development: implementation details, code refactoring, maintenance tasks, documentation, etc. Discussions tend to be **more technical** than our Community Calls.

**Everyone is encouraged to edit the notes below.**

--------------------------------------------------------------

## 2022-04-01

**Time:** 14:00 (UTC)

**Participants** 

- 

**Discussion points:**

- Update on using Jupyter Book to make our tutorials into a website: https://github.com/fatiando/tutorials/issues/4

## 2022-03-25

**Time:** 14:00 (UTC)

**Participants** 

- Leo
- Mariana
- Gelson
- Federico

**Discussion points:**

- Releasing Verde 1.7.0 live!
    - Leo walked through the process of making a release of Verde.
    - Mariana contributed some questions about the process that highlighted a few areas of improvement:
        - Manual editing of the log to remove commit hashes, dates, etc, could probably be automated with a smarter [git shortlog](https://git-scm.com/docs/git-shortlog) command
        - How we order authors is a bit arbitrary (commit number) and requires manual updating all the time. **Should we just use "Fatiando a Terra Project" as the first author and list everyone alphabetically?**
    - Had some trouble with the GitHub Actions jobs not being triggered by the release. Deleting the release and making it again on GitHub fixed the issue (see https://github.com/fatiando/verde/actions?query=event%3Arelease)
    - Links:
        - Release checklist issue: https://github.com/fatiando/verde/issues/341
        - Zenodo archive: https://doi.org/10.5281/zenodo.6384887
        - GitHub release: https://github.com/fatiando/verde/releases/tag/v1.7.0
        - PyPI package: https://pypi.org/project/verde/1.7.0/ (automatically built and uploaded by this https://github.com/fatiando/verde/actions/runs/2040766671)
        - New documentation: https://www.fatiando.org/verde/v1.7.0 (automatically built and uploaded by https://github.com/fatiando/verde/actions/runs/2040766672)
    - Recorded the session (thanks Mariana) and will edit and upload to YouTube later.
    

## 2022-03-18

**Time:** 14:00 (UTC)

**Participants** 

- Lu
- Santi

**Discussion points:**

- Harmonica maintenance:
    - Improve packaging by moving from `setup.py` to `setup.cfg`. Thanks Leo!
    - Trying to extend support to Python 3.10 :crossed_fingers:
        - Fixing issues with old version of sphinx
- Little bit of talk about Transform22 tutorial
- Details for future TeseroidLayer implementation
    - Converting grids in ellipsoidal coordinates to spherical coordinates
        - What to do with latitude and spherical latitude?
            - Resample
            - Assume the same
    - TesseroidLayer in the poles
        - Tesseroids are like triangles or trapezoids near the poles
        - Grids around the pole have different "resolutions" depending on the latitude
        - Possible future test: compare computations on the pole vs the same layer rotated to the equator.

## 2022-03-11

**Time:** 14:00 (UTC)

**Participants** 

- India
- Mariana
- Santi

**Discussion points:**

- Getting to know each other. Where and in what are we doing the PhD?
- We talked about some aspects that make it easier to contribute to the different repositories:
    1. Santiago explained that Fatiando does not use [Jupytext](https://github.com/mwouts/jupytext) because it has different problems.
    1. Understanding what `make` does and what a Makefile is.
    1. The importance of being added to the list of [authors](https://github.com/fatiando/community/blob/main/AUTHORSHIP.md).
    1. Using [ReviewNB](https://www.reviewnb.com/) to be able to see the differences between notebooks more clearly.




## 2022-03-04

**Time:** 14:00 (UTC)

**Participants** 

- Andrea
- Mariana
- Santi

**Discussion points:**

- Worked in parallel for ~45mins on different PRs
    - Santi: the new `prisms_to_pyvista` feature
    - Mariana: implement usage of Ensaio in Harmonica
- Some pair programming on the `prisms_to_pyvista` PR (https://github.com/fatiando/harmonica/pull/291)
    - How we can read pytest results
    - How can we debug the issues raised by them
    - Differences between `np.array` and `np.asarray`:
        - `np.array` always create a new array
        - `np.asarray` converts the input to array only if necesary (more efficient if we already know that the input might be an array in some cases)
- Dicussions on moving gallery example of Harmonica into tutorial pages
    - Explainations inside code comments in gallery example are aweful :face_vomiting: 
    - Move some of the gallery examples to their own document pages
        - They should have engaging names:
            - s/Gradient-boosted equivalent sources/Gridding very large datasets/
    - Andrea: make the prism layer 3D plot interactive with PyVista.


## 2022-02-25

**Time:** 14:00 (UTC)

**Participants** 

- Lu
- Mariana
- Santi

**Discussion points:**

- Installing fatiando-legacy under Windows
    - python2.7 executable needs execution permissions!
    - Numpy 1.11.3 worked! Test passed! :tada:
- Answering questions in Slack might need more thought on context
    - What are they trying to do?
    - What geo problem they are trying to solve?
    - Idea: add instructions on "how to ask help in Slack"
        - Maybe in the Slack Welcoming bot
        - Thanks Mariana!
        - See "Asking for assistance subject matter expert" by Michael Pyrcz (see below)
- Slack messages get lost in time
    - Maybe a forum would be the best solution for the future (if the community grows too much)


> ### Asking for Assistance from a Subject Matter Expert
> 
> Michael Pyrcz, University of Texas at Austin (@GeostatsGuy)
> 
> Everyday I get multiple e-mails from individuals, that I have never met, asking
> for assistance. Most of the time these communications follow this pattern:
> 
> _"Greetings, I really enjoy your [insert specific online content]. [insert multiple requests for assistance]. Thank you, [insert name]'_
> 
> I've often asked for and received help from the scientific community. I feel
> that science is a social activity, but I think there is an opportunity to
> provide feedback on how improve the chance of success while building a network.
> Here's some ideas on **cold contact with a subject matter expert (SME)**.
> 
> **Introduce Yourself** - _provide a good introduction_.
> Go beyond your name by providing your affiliation, and then link your work to
> the topic of interest for the SME. This is an opportunity to build your network
> while self-advocating. You clearly know the SME, let them know you and make the
> SME more comfortable to respond.
> 
> **Do Your Research** - _put significant effort into finding your own solutions and demonstrate this_.
> The SME is not your help desk, even the most patient individual will fatigue
> with questions that indicate that little effort has been made to research the
> problem. We match your energy.
> 
> **Just Share Appreciation** - _consider just communicating appreciation_.
> There is an amazing amount of effort and time involved to provide content to
> the community. Yet, it is rare to only receive a message of appreciation
> without a request. You have no idea how it warms our hearts to hear about your
> success with our contentl We lift each other.
> 
> **Reasonable Requests** - _think critically about the tenability of your ask_.
> This busy SME has put out content and now you are asking them to do more work!
> Are you trying to leverage their altruism to profit from content that they
> provided freely? Enough said.
> 
> **Contribute Back** - _the best way to learn is to do_.
> Contribute back to the community, by providing respectful, useful feedback and
> errata. This is one of my motivations for sharing content, the peer review
> results in an improved product for my students. We all start somewhere.


## 2022-02-18

**Time:** 14:00 (UTC)

**Participants** 

- Leo
- Santi
- Mariana

**Discussion points:**

* Pair programming ensaio PR for changing versioning of datasets: https://github.com/fatiando/ensaio/pull/18
* After the PR is merged Leo will cut new release of Ensaio

## 2022-02-11

**Time:** 14:00 (UTC)

**Participants** 

- Lu
- Mariana
- Leo
- Santi

**Discussion points:**

- Replaced Google Analytics with Plausible throughout the project
    - Now we have a more privacy-friendly analytics service.
    - You can see the stats here: https://plausible.io/fatiando.org
    - We also have plausible on the legacy website: https://plausible.io/legacy.fatiando.org
- The embedded Youtube videos in our website also have trackers, so we decided to remove it with thumbnails (plus some CSS hacks to make it look like YT interface): https://www.fatiando.org/learn/
- Leo has raised the idea to SWUNG of using Plausible for all the projects.
    - The board is looking at it very positively :tada:
- Pooch got a new release: 1.6.0! :rocket: :clinking_glasses: 
- Installation instructions for the old `fatiando` package: https://www.fatiando.org/install/#Installing-the-legacy-fatiando-package
    - No numpy v1.10 for windows, only >= 1.14 is available in conda-forge
    - Numpy 1.9 is available: https://anaconda.org/anaconda/numpy/files?version=1.9.3
    - If you want to try it out, try it with `mamba` instead of `conda` (it's much faster): https://mamba.readthedocs.io/en/latest/index.html
    - Maybe not worth the effort really. 
    - Could just tell people to copy the bit of the code that they need and see if it works in Python 3.
    - Follow up on Slack to see what they want out of Fatiando. If it doesn't involve compiled code, it may be easier to copy the source files.
- Santi wants to work on a `TesseroidLayer` after the PhD defense is done
- Also transform the gallery examples into actual tutorials for Harmonica
- Prioritize the FFT stuff that Lu started developing
- Add forward modelling of tensor components
- IDEA: pair programming hours!
    - Boosts productivity
    - Good learning experience
    - Might be good to try this out before Transform (last week of April)

## 2022-01-21

**Time:** 14:00 (UTC)

**Participants** 

* Leo
* Lu

**Discussion points:**

* Migration of datasets to https://github.com/fatiando-data is complete!
    * Now need to update Ensaio to match
* Pooch 1.6.0: https://github.com/fatiando/pooch/issues/283
    * Will make a new release as soon as I get some time
    * Drop Python 3.6 after this release
* Migrating analytics to Plausible:
    * Website, Harmonica, and legacy docs all converted
    * Santi wrote a script: https://github.com/fatiando/community/issues/46
    * Any help running this in other repositories is appreciated
    * Not a moment too soon: https://tutanota.com/blog/posts/google-analytics/ (ht Santi)
* Lu implemented some filters in Harmonica:
    * PR: https://github.com/fatiando/harmonica/pull/299
    * Try writing a test for the upward continuation first

## 2022-01-14

**Time:** 14:00 (UTC)

**Participants** 

* Leo
* Santi

**Discussion points:**

* Happy new year! :confetti_ball: :fireworks: 
* Move the meeting to Gather Town
* Restructure how we forward some URLs (thanks Lu for catching the slack link error): https://github.com/fatiando/website/pull/46
    * Contact links need to be updated in some projects still
    * See https://github.com/fatiando/community/issues/43
    * **Good novice issue** to tackle
* Trying out Plausible analytics on our main website
    * The statistics are public and anonymous for anyone who wishes to see them: https://plausible.io/fatiando.org
    * Trial for 30 days starting 22 Dec 2021
    * Leo will pay for now (we only need the cheapest tier)
    * **Shall we keep this?**
        * Decision: Keep Plausible! 
    * We can petition Software Underground to take up costs. It's easy to transfer our account to them and they can add us as admins. Could be used by other projects and the Swung websites as well.
        * Leo will write on the Slack explaining what we did and asking their opinion
    * If we like it, we can switch all our docs to this:
        * Update the code in the `doc` source template for all repositories
        * Make a script/macro to replace the google analytics code in the rendered HTML in all `gh-pages` branches (so we can monitor visits to older pages)
        * Have to replace [this code](https://github.com/fatiando/website/blob/6bf54d6172ecebc33f28ee2da681dc80ab36b28d/_templates/layout.html#L43) with [this code](https://github.com/fatiando/website/blob/6bf54d6172ecebc33f28ee2da681dc80ab36b28d/_templates/layout.html#L56)
        * **Anyone interested in giving this a try?**
    * Download and backup the data form Google Analytics. Maybe in the `community` repo. Could be a yearly thing.
        * Need to clean the country names. Take a look at the code that Santi wrote for his thesis (https://github.com/santisoler/phd-thesis/tree/main/analytics)
        * Make maybe a nice dashboard for this to display the data.
* Ensaio got a first release :tada: https://www.fatiando.org/ensaio/v0.1.0
    * Test it out with another package. Doesn't have to be a complete switch, just 1 example at a time. Verde or Harmonica are good candidates because they have more examples.
    * **Any takers?**
    * After discussion, the `ensaio.v1` imports are kind of strange and would require duplication of a lot of information once a new data major release is done. A better approach would be to package and release each dataset individually:
        * Ditch `v*` modules
        * Each `fetch_*` function will have a required `version` argument (can't be optional to avoid new releases breaking old docs)
        * Available versions should be listed in the docstrings.
        * Add a `source` (?) argument to choose whether to download the data from `"doi"` or `"github"`. Default to `"doi"`.
        * Use an env variable to change source of download, maybe `ENSAIO_DOWNLOAD_GITHUB` or something. This takes precedence over the `source` argument.
        * Each dataset needs to be moved to a different reporitory with an associated GitHub release and Zenodo DOI.
            * Should this be `data-*` repos on github.com/fatiando or do we make a new org just for that (github.com/fatiando-data)?
* New tool to help testing on CI: https://github.com/fatiando/dependente
    * Used in Pooch: https://github.com/fatiando/pooch/pull/289
* Verde got some maintenance love :heart: :
    * Refactored the CI to make it faster: https://github.com/fatiando/verde/pull/336
    * Replace pylint: https://github.com/fatiando/verde/pull/337
    * Link to `fatiando/community` in the guides: https://github.com/fatiando/verde/pull/338
* Move away from `setup.py`:
    * See https://github.com/fatiando/pooch/pull/280
